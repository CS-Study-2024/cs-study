# 웹 페이지가 사용자에게 보여지는 과정

## 면접 질문
<details>
  <summary> Q. 웹페이지가 사용자에게 보여지는 과정에 대해서 설명하세요. </summary>
    
  <div markdown="1">    

      [Prompt for unload]
      - 현재 페이지에서 다른 페이지로 이동할 때 발생하는 이벤트
      - 뒤로 가기 버튼이나 링크를 눌러 다른 도메인의 페이지로 이동할 경우 발생한다.

      [Redirect ~ Response]
      - 네트워크 통신
      - 요청을 받고 HTML 파일 등의 리소스를 브라우저로 가져오는 일련의 과정
      - AppCache는 이미 요청한 응답에 대한 캐싱을 확인해서 캐싱된 데이터가 있다면
        통신을 또 하지 않고 바로 사용해서 퍼포먼스 효율을 높인다.
      - DNS 도메인을 서버의 IP 주소로 변환하는 역할을 한다.
      - TCP 레이어에서 요청이 성공적으로 이루어지면 Response가 온다.

      [Processing]
      - 다운로드한 HTML 파일과 CSS 파일을 활용해 DOM Tress와 CSSOM Tree를 만들어 렌더링 트리를 구성한다.

      [Load]
      - 렌더 과정까지 마무리되면 다운로드한 파일을 사용자가 알아볼 수 있게 화면에 보여준다.
  
  </div>
</details>

<br/>

## 웹브라우저의 동작 원리
![img1 daumcdn](https://github.com/CS-Study-2024/cs-study/assets/112626357/d457846c-0a0b-4611-84bf-3754d287f7d6)

- 웹 페이지 로드 과정
  - 브라우저에서 특정 페이지로 이동할 때 어떤 과정을 거치는지 알아봅시다.
  - 현재 페이지에서 특정한 다음 페이지로 이동한다고 가정하면, 웹 페이지를 로드하는 과정은 W3C Spec을 따릅니다.
<br/>

### Prompt for unload
- 현재 페이지에서 다른 페이지로이동할 때 발생하는 이벤트로 뒤로가기 버튼이나 링크를 눌러 다른 도메인의 페이지로 이동할 경우 발생합니다.
- 웹 브라우저 내 현재 문서에서 다른 문서로 벗어나는(이동하는) 단계로 unload(window: beforeunload 이벤트)를 적용할 수 있습니다.
- beforeunload 이벤트를 사용하면 사용자가 페이지를 떠날 때 정말로 떠날 것인지 묻는 확인 대화 상자를 표시할 수 있습니다.
- 사용자가 확인을 누를 경우 브라우저는 새로운 페이지로 탐색하고, 취소할 경우 탐색을 취소하고 현재 페이지에 머무릅니다.

![img1 daumcdn](https://github.com/CS-Study-2024/cs-study/assets/112626357/2b926f4c-fa53-4747-8bdd-cd5bcd782652)

<br/>

### Redirect
- 브라우저의 URL 요청에 대해, 서버에서 다른 URL로 요청할 것을 지시하는 것을 말합니다.
- 예시
  - 브라우저에서 A라는 URL을 웹 서버에 요청했을 때 서버는 B로 재요청할 것을 지시할 수 있습니다.
  - Redirect는 HTTP 표준으로 정의되어 있습니다.
- 최초 요청을 받은 웹 서버는 HTTP 응답 상태코드로 302를 보내게 되는데, 헤더필드 내 Location에 Redirect 되어야 할 URL 주소를 반환합니다.
- 이는 optional이라서, 발생하지 않을 수도 있습니다.

### AppCache
- 
